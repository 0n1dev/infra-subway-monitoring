<configuration scan="true" scanPeriod="60 seconds">
    <!-- logback property setting in spring.properties -->
    <springProperty scope="context" name="LOG_LEVEL" source="logging.level.root"/>

    <!--springProfile match properties -->
    <springProfile name="test">
        <property resource="logback-test.properties"/>
    </springProfile>
    <springProfile name="local">
        <property resource="logback-local.properties"/>
    </springProfile>
    <springProfile name="prod">
        <property resource="logback-prod.properties"/>
    </springProfile>

    <!-- log file path -->
    <property name="LOG_LEVEL" value="info"/>
    <property name="LOG_PATH" value="${log.config.path}"/>
    <property name="LOG_FILE_NAME" value="${log.config.filename}"/>
    <property name="LOG_ERROR_FILE_NAME" value="error"/>
    <property name="LOG_JSON_FILE_NAME" value="json"/>

    <!--include divided appender file-->
    <include resource="org/springframework/boot/logging/logback/base.xml" />
    <include resource="console-appender.xml" />
    <include resource="file-appender.xml" />
    <include resource="error-appender.xml" />
    <include resource="json-appender.xml" />

    <!-- root level setting -->
    <root level="${LOG_LEVEL}">
        <appender-ref ref="FILE_LOGGER"/>
        <appender-ref ref="CONSOLE_LOGGER"/>
        <appender-ref ref="JSON_LOGGER"/>
    </root>

    <!-- include appender -->
    <root>
        <appender-ref ref="CONSOLE_LOGGER"/>
        <appender-ref ref="FILE_LOGGER" />
        <appender-ref ref="ERROR_LOGGER" />
        <appender-ref ref="JSON_LOGGER" />
    </root>

</configuration>